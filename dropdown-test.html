<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä¸‹æ‹‰èœå–®ç³»çµ±æ¸¬è©¦ - Vanilla DOM Playground</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/games.css">
  <style>
    body {
      margin: 0;
      padding: 20px;
      background: #ecf0f1;
      min-height: 100vh;
    }

    .test-container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .test-header {
      text-align: center;
      margin-bottom: 30px;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .test-header h1 {
      margin: 0 0 10px 0;
      color: #2c3e50;
    }

    .test-header p {
      margin: 5px 0;
      color: #7f8c8d;
    }

    #app-container {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="test-container">
    <div class="test-header">
      <h1>ğŸ¯ ä¸‹æ‹‰èœå–®ç³»çµ±æ¸¬è©¦</h1>
      <p>å®Œæ•´åŠŸèƒ½çš„å¤šç´šèœå–®çµ„ä»¶ - ç´” Vanilla JavaScript</p>
      <p>
        <strong>æ ¸å¿ƒåŠŸèƒ½ï¼š</strong>
        å¤šç´šåµŒå¥—èœå–® | æ»‘é¼ /éµç›¤æ“ä½œ | é»æ“Šå¤–éƒ¨é—œé–‰ | ARIA ç„¡éšœç¤™ | å‹•æ…‹å®šä½
      </p>
      <p style="margin-top: 10px; color: #667eea;">
        ğŸ¯ æ”¯æŒæ»‘é¼ æ‡¸åœã€é»æ“Šã€éµç›¤å°èˆªç­‰å¤šç¨®äº¤äº’æ–¹å¼
      </p>
    </div>

    <div id="app-container"></div>
  </div>

  <script type="module">
    import { DropdownMenu } from './js/learning/projects/dropdownMenu.js';

    // åˆå§‹åŒ–æ‡‰ç”¨
    const container = document.getElementById('app-container');
    const menu = new DropdownMenu(container);

    console.log('âœ… ä¸‹æ‹‰èœå–®ç³»çµ±å·²åŠ è¼‰');
    console.log('ğŸ¯ å®Œæ•´åŠŸèƒ½çš„å¤šç´šèœå–®çµ„ä»¶');
    console.log('');
    console.log('ğŸ¯ æ ¸å¿ƒåŠŸèƒ½ï¼š');
    console.log('  1. å¤šç´šåµŒå¥— - æ”¯æŒç„¡é™å±¤ç´šçš„å­èœå–®');
    console.log('  2. æ»‘é¼ æ“ä½œ - æ‡¸åœæ‰“é–‹ã€é»æ“ŠåŸ·è¡Œ');
    console.log('  3. éµç›¤å°èˆª - å®Œæ•´æ”¯æŒæ–¹å‘éµã€Enterã€Esc');
    console.log('  4. é»æ“Šå¤–éƒ¨é—œé–‰ - å…¨å±€ç›£è½å¯¦ç¾');
    console.log('  5. å‹•æ…‹å®šä½ - è‡ªå‹•æª¢æ¸¬é‚Šç•Œä¸¦èª¿æ•´ä½ç½®');
    console.log('  6. ARIA ç„¡éšœç¤™ - role/aria-* å±¬æ€§å®Œæ•´æ”¯æŒ');
    console.log('  7. å¯å‹¾é¸é …ç›® - åˆ‡æ›ç‹€æ…‹ä¸¦é¡¯ç¤ºå‹¾é¸æ¨™è¨˜');
    console.log('  8. å¿«æ·éµé¡¯ç¤º - èœå–®é …ç›®å³å´é¡¯ç¤ºå¿«æ·éµ');
    console.log('  9. é…ç½®é¢æ¿ - èª¿æ•´æ‡¸åœå»¶é²ã€é—œé–‰å»¶é²ã€å‹•ç•«æ™‚é•·');
    console.log('  10. å‹•ä½œæ—¥èªŒ - è¨˜éŒ„æ‰€æœ‰èœå–®æ“ä½œ');
    console.log('');
    console.log('ğŸ–±ï¸ æ»‘é¼ æ“ä½œï¼š');
    console.log('  â€¢ æ‡¸åœèœå–®é … - æ‰“é–‹ä¸‹æ‹‰é¢æ¿ï¼ˆå¯é…ç½®ï¼‰');
    console.log('  â€¢ é»æ“Šèœå–®é … - æ‰“é–‹/é—œé–‰èœå–®');
    console.log('  â€¢ æ‡¸åœå­èœå–®é … - å±•é–‹ä¸‹ä¸€ç´šèœå–®');
    console.log('  â€¢ é»æ“Šèœå–®é …ç›® - åŸ·è¡Œå‹•ä½œ');
    console.log('  â€¢ é»æ“Šå¤–éƒ¨å€åŸŸ - é—œé–‰æ‰€æœ‰èœå–®');
    console.log('  â€¢ æ‡¸åœå¸¶å‹¾é¸æ¨™è¨˜çš„é …ç›® - åˆ‡æ›å‹¾é¸ç‹€æ…‹');
    console.log('');
    console.log('âŒ¨ï¸ éµç›¤å¿«æ·éµï¼š');
    console.log('  â€¢ Tab - åœ¨é ‚å±¤èœå–®é–“åˆ‡æ›');
    console.log('  â€¢ â†“ (ArrowDown) - æ‰“é–‹èœå–® / ç§»åˆ°ä¸‹ä¸€å€‹é …ç›®');
    console.log('  â€¢ â†‘ (ArrowUp) - ç§»åˆ°ä¸Šä¸€å€‹é …ç›®');
    console.log('  â€¢ â†’ (ArrowRight) - å±•é–‹å­èœå–® / ç§»åˆ°ä¸‹ä¸€å€‹é ‚å±¤èœå–®');
    console.log('  â€¢ â† (ArrowLeft) - æ”¶èµ·å­èœå–® / ç§»åˆ°ä¸Šä¸€å€‹é ‚å±¤èœå–®');
    console.log('  â€¢ Enter / Space - åŸ·è¡Œå‹•ä½œ / æ‰“é–‹èœå–®');
    console.log('  â€¢ Esc - é—œé–‰æ‰€æœ‰èœå–®');
    console.log('');
    console.log('ğŸ¨ æŠ€è¡“å¯¦ç¾ï¼š');
    console.log('');
    console.log('  æ»‘é¼ äº‹ä»¶è™•ç†ï¼š');
    console.log('    â€¢ mouseenter - æ»‘é¼ é€²å…¥å…ƒç´ æ™‚è§¸ç™¼');
    console.log('    â€¢ mouseleave - æ»‘é¼ é›¢é–‹å…ƒç´ æ™‚è§¸ç™¼');
    console.log('    â€¢ æ‡¸åœå»¶é² - setTimeout å»¶é²æ‰“é–‹ï¼ˆé˜²æŠ–ï¼‰');
    console.log('    â€¢ é—œé–‰å»¶é² - é›¢é–‹å¾Œå»¶é²é—œé–‰ï¼ˆçµ¦ç”¨æˆ¶åæ‡‰æ™‚é–“ï¼‰');
    console.log('');
    console.log('  éµç›¤äº‹ä»¶è™•ç†ï¼š');
    console.log('    â€¢ keydown - æ•ç²æ‰€æœ‰æŒ‰éµ');
    console.log('    â€¢ event.key - ç²å–æŒ‰éµåç¨±ï¼ˆArrowUp/ArrowDown ç­‰ï¼‰');
    console.log('    â€¢ event.preventDefault() - é˜»æ­¢é»˜èªè¡Œç‚ºï¼ˆå¦‚æ–¹å‘éµæ»¾å‹•ï¼‰');
    console.log('    â€¢ focus() - ç¨‹å¼åŒ–èšç„¦åˆ°å…ƒç´ ');
    console.log('    â€¢ tabindex - æ§åˆ¶ Tab éµé †åºï¼ˆ0=å¯èšç„¦ï¼Œ-1=ä¸å¯ Tabï¼‰');
    console.log('');
    console.log('  é»æ“Šå¤–éƒ¨é—œé–‰ï¼š');
    console.log('    document.addEventListener("click", (e) => {');
    console.log('      if (!e.target.closest(".menu-bar") && !e.target.closest(".dropdown-panel")) {');
    console.log('        this.closeAllMenus();');
    console.log('      }');
    console.log('    });');
    console.log('');
    console.log('  å‹•æ…‹å®šä½ï¼š');
    console.log('    â€¢ getBoundingClientRect() - ç²å–å…ƒç´ ä½ç½®å’Œå°ºå¯¸');
    console.log('    â€¢ window.innerWidth/innerHeight - è¦–å£å°ºå¯¸');
    console.log('    â€¢ é‚Šç•Œæª¢æ¸¬ - å³å´ç©ºé–“ä¸è¶³æ™‚é¡¯ç¤ºåœ¨å·¦å´');
    console.log('    â€¢ position: fixed - å›ºå®šå®šä½ï¼Œä¸å—æ»¾å‹•å½±éŸ¿');
    console.log('    const triggerRect = trigger.getBoundingClientRect();');
    console.log('    const panelRect = panel.getBoundingClientRect();');
    console.log('    if (left + panelRect.width > window.innerWidth) {');
    console.log('      left = triggerRect.left - panelRect.width; // é¡¯ç¤ºåœ¨å·¦å´');
    console.log('    }');
    console.log('');
    console.log('  CSS å‹•ç•«ï¼š');
    console.log('    â€¢ opacity: 0 â†’ 1 æ·¡å…¥æ•ˆæœ');
    console.log('    â€¢ transform: translateY(-10px) â†’ translateY(0) å‘ä¸‹æ»‘å…¥');
    console.log('    â€¢ transition - CSS éæ¸¡å‹•ç•«');
    console.log('    â€¢ pointer-events: none/auto - æ§åˆ¶æ˜¯å¦å¯äº¤äº’');
    console.log('    .dropdown-panel {');
    console.log('      opacity: 0;');
    console.log('      transform: translateY(-10px);');
    console.log('      transition: opacity 200ms ease, transform 200ms ease;');
    console.log('    }');
    console.log('    .dropdown-panel.open {');
    console.log('      opacity: 1;');
    console.log('      transform: translateY(0);');
    console.log('    }');
    console.log('');
    console.log('  ARIA ç„¡éšœç¤™ï¼š');
    console.log('    â€¢ role="menubar" - æ¨™è­˜èœå–®æ¬„');
    console.log('    â€¢ role="menuitem" - æ¨™è­˜èœå–®é …ç›®');
    console.log('    â€¢ aria-haspopup="true" - è¡¨ç¤ºæœ‰å½ˆå‡ºå…§å®¹');
    console.log('    â€¢ aria-expanded="true/false" - å±•é–‹/æ”¶èµ·ç‹€æ…‹');
    console.log('    â€¢ tabindex="0" - å¯èšç„¦');
    console.log('    â€¢ tabindex="-1" - ä¸å¯ Tabï¼Œä½†å¯ç¨‹å¼åŒ–èšç„¦');
    console.log('');
    console.log('  é˜²æŠ–æŠ€è¡“ (Debounce)ï¼š');
    console.log('    â€¢ setTimeout - å»¶é²åŸ·è¡Œ');
    console.log('    â€¢ clearTimeout - å–æ¶ˆå…ˆå‰çš„å»¶é²');
    console.log('    scheduleOpenMenu(item) {');
    console.log('      if (this.hoverTimer) {');
    console.log('        clearTimeout(this.hoverTimer);');
    console.log('      }');
    console.log('      this.hoverTimer = setTimeout(() => {');
    console.log('        this.openMenu(item);');
    console.log('      }, this.hoverDelay);');
    console.log('    }');
    console.log('');
    console.log('  DOM æ“ä½œï¼š');
    console.log('    â€¢ createElement - å‹•æ…‹å‰µå»ºèœå–®é¢æ¿');
    console.log('    â€¢ appendChild/removeChild - æ·»åŠ /ç§»é™¤å…ƒç´ ');
    console.log('    â€¢ querySelector/querySelectorAll - DOM æŸ¥è©¢');
    console.log('    â€¢ classList.add/remove - å‹•æ…‹é¡åç®¡ç†');
    console.log('    â€¢ setAttribute/getAttribute - å±¬æ€§æ“ä½œ');
    console.log('    â€¢ dataset - è‡ªå®šç¾©æ•¸æ“šå±¬æ€§ï¼ˆdata-menu-idï¼‰');
    console.log('');
    console.log('  ç‹€æ…‹ç®¡ç†ï¼š');
    console.log('    â€¢ activeMenus - Set å­˜å„²ç•¶å‰æ‰“é–‹çš„èœå–®');
    console.log('    â€¢ config - é…ç½®å°è±¡ï¼ˆopenOnHover, closeDelay ç­‰ï¼‰');
    console.log('    â€¢ menuData - åµŒå¥—æ•¸æ“šçµæ§‹');
    console.log('');
    console.log('ğŸ’¡ å­¸ç¿’é‡é»ï¼š');
    console.log('  1. äº‹ä»¶è™•ç† - mouseenter/mouseleave/keydown/click');
    console.log('  2. å…¨å±€ç›£è½ - document.addEventListener æ•ç²å¤–éƒ¨é»æ“Š');
    console.log('  3. å‹•æ…‹å®šä½ - getBoundingClientRect é‚Šç•Œæª¢æ¸¬');
    console.log('  4. é˜²æŠ–æŠ€è¡“ - setTimeout/clearTimeout å»¶é²åŸ·è¡Œ');
    console.log('  5. éµç›¤å°èˆª - æ–¹å‘éµéæ­·ã€Enter åŸ·è¡Œã€Esc é—œé–‰');
    console.log('  6. ARIA ç„¡éšœç¤™ - role/aria-* å±¬æ€§æå‡å¯è¨ªå•æ€§');
    console.log('  7. CSS å‹•ç•« - opacity/transform æ·¡å…¥æ»‘å…¥æ•ˆæœ');
    console.log('  8. éæ­¸æ¸²æŸ“ - æ”¯æŒç„¡é™å±¤ç´šåµŒå¥—');
    console.log('  9. ç‹€æ…‹åŒæ­¥ - UI èˆ‡æ•¸æ“šä¿æŒä¸€è‡´');
    console.log('  10. é…ç½®åŒ–è¨­è¨ˆ - å¯èª¿æ•´å»¶é²ã€å‹•ç•«æ™‚é•·ç­‰åƒæ•¸');
    console.log('');
    console.log('ğŸ® äº’å‹•æ¸¬è©¦ï¼š');
    console.log('  1. æ‡¸åœã€Œæª”æ¡ˆã€èœå–® - è§€å¯Ÿå»¶é²æ‰“é–‹æ•ˆæœ');
    console.log('  2. é»æ“Šã€Œç·¨è¼¯ã€â†’ã€Œæœå°‹ã€- å±•é–‹äºŒç´šå­èœå–®');
    console.log('  3. é»æ“Šã€Œæª¢è¦–ã€ä¸­çš„å‹¾é¸é … - åˆ‡æ›å‹¾é¸ç‹€æ…‹');
    console.log('  4. ä½¿ç”¨éµç›¤æ–¹å‘éµ - åœ¨èœå–®é …ç›®é–“å°èˆª');
    console.log('  5. æŒ‰ Tab éµ - åœ¨é ‚å±¤èœå–®é–“åˆ‡æ›');
    console.log('  6. èª¿æ•´ã€Œæ‡¸åœå»¶é²ã€æ»‘æ¡¿ - æ¸¬è©¦ä¸åŒå»¶é²æ•ˆæœ');
    console.log('  7. èª¿æ•´ã€Œå‹•ç•«æ™‚é•·ã€æ»‘æ¡¿ - è§€å¯Ÿå‹•ç•«é€Ÿåº¦è®ŠåŒ–');
    console.log('  8. ç¦ç”¨ã€Œæ»‘é¼ æ‡¸åœæ‰“é–‹ã€- åªèƒ½é»æ“Šæ‰“é–‹');
    console.log('  9. é»æ“Šèœå–®å¤–éƒ¨å€åŸŸ - æ‰€æœ‰èœå–®é—œé–‰');
    console.log('  10. æŒ‰ Esc éµ - å¿«é€Ÿé—œé–‰æ‰€æœ‰èœå–®');
    console.log('  11. æŸ¥çœ‹å‹•ä½œæ—¥èªŒ - è¨˜éŒ„æ‰€æœ‰æ“ä½œ');
    console.log('  12. é»æ“Šã€Œé‡ç½®é…ç½®ã€- æ¢å¾©é»˜èªè¨­ç½®');
    console.log('');
    console.log('ğŸ“Š èœå–®çµæ§‹ç¤ºä¾‹ï¼š');
    console.log('');
    console.log('menuData = [');
    console.log('  {');
    console.log('    id: "file",');
    console.log('    label: "æª”æ¡ˆ",');
    console.log('    icon: "ğŸ“",');
    console.log('    items: [');
    console.log('      { id: "new", label: "æ–°å¢", icon: "ğŸ“„", shortcut: "Ctrl+N" },');
    console.log('      { type: "divider" }, // åˆ†éš”ç·š');
    console.log('      {');
    console.log('        id: "recent",');
    console.log('        label: "æœ€è¿‘ä½¿ç”¨",');
    console.log('        items: [ // å­èœå–®');
    console.log('          { id: "recent1", label: "project-1.js" }');
    console.log('        ]');
    console.log('      }');
    console.log('    ]');
    console.log('  }');
    console.log(']');
    console.log('');
    console.log('ğŸ“ˆ æ€§èƒ½å„ªåŒ–ï¼š');
    console.log('  â€¢ é˜²æŠ– - é¿å…é »ç¹å‰µå»º/éŠ·æ¯€èœå–®');
    console.log('  â€¢ å»¶é²é—œé–‰ - çµ¦ç”¨æˆ¶åæ‡‰æ™‚é–“ï¼Œé¿å…èª¤æ“ä½œ');
    console.log('  â€¢ requestAnimationFrame - å‹•ç•«æ€§èƒ½å„ªåŒ–');
    console.log('  â€¢ äº‹ä»¶å§”è¨— - æ¸›å°‘äº‹ä»¶ç›£è½å™¨æ•¸é‡ï¼ˆå­èœå–®å…§ï¼‰');
    console.log('  â€¢ CSS å‹•ç•« - ç¡¬é«”åŠ é€Ÿï¼ˆtransform/opacityï¼‰');
  </script>
</body>
</html>
